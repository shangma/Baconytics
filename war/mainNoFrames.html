<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html dir="ltr" xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Baconytics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="description" content="Testing Bacon Main Page" />
<link rel="stylesheet" type="text/css" href="style.css" />
</head>

<script type="text/javascript" src="https://www.google.com/jsapi"></script>
<script type="text/javascript" src="jquery-1.7.1.min.js"></script>

<script type="text/javascript" src="gchart.js"></script>

<script type="text/javascript">

	// Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.setOnLoadCallback(drawKeywordBarGraph);
	  google.setOnLoadCallback(drawChart2);
	  google.setOnLoadCallback(drawChart3);
	  
$(document).ready(function() {
		extractSource();
		
		var locate = window.location;
		
		var dDown = window.document.getElementById("dropDown");

		
		//testCall();
		//google.setOnLoadCallback(drawChart2);
		
		
		
		
});

function extractSource() 
{	
        $("#metricChoose").load("http://localhost:8888/metricSelect.html", function(responseText, statusText, xhr){
            if(statusText == "success"){
                //alert("Successfully loaded the content!");
                //this alert should display the source of the page extracted.
                //alert("in metric");
            }
            if(statusText == "error")
                alert("An error occurred: " + xhr.status + " - " + xhr.statusText);		
    	});
		
		$("#trendingTopics").load("http://localhost:8888/trend.html", function(responseText, statusText, xhr){
            if(statusText == "success"){
                    //alert("Successfully loaded the content!");
                    //this alert should display the source of the page extracted.
                    //alert("in trendingTopics");
            }
            if(statusText == "error")
                    alert("An error occurred: " + xhr.status + " - " + xhr.statusText);		
    	});
		
		
		$("#trendLinks").load("http://localhost:8888/link.html", function(responseText, statusText, xhr){
            if(statusText == "success"){
                    //alert("Successfully loaded the content!");
                    //this alert should display the source of the page extracted.
                    //alert("in trendLinks");
            }
            if(statusText == "error")
                    alert("An error occurred: " + xhr.status + " - " + xhr.statusText);		
    	});
		
		//hacky fix for graph invisibility
		toggle('graphRight');
		toggle('graphLeft');
				
}

function changeLayout(){
//alert("MADE IT!");
	google.load('visualization', '1.0', {'packages':['corechart']});
	google.setOnLoadCallback(drawChart3);
	//alert("MADE IT BACK!");
	
	toggle('graphRight');
	toggle('testingHidden');
	
	/*
	function toggleDiv(divId) {
		$("#graphRight").toggle();
		$("#testingHidden").toggle();
	}
	*/
	
}

function toggle(id) {
    var state = document.getElementById(id).style.display;
        if (state == 'block') {
			document.getElementById(id).style.display = 'none';
    } else {
        document.getElementById(id).style.display = 'block';
    }
}


</script>
<body>

	<div id="outerContainer">
		<div id="leftContainer">

			<!--
				<div id="metricChoose"></div>
			-->
			<div id="trendingTopics"></div>
					
		</div>
		
		<div id="articleLinkContainer">
		
			<div id="trendLinks"></div>
			
			
		</div>
		
	</div>
	<div id="bottomContainer">
			
				<div id="graphLeft"></div>
				<div id="graphRight"></div>
				<div id="testingHidden"></div>
				
			</div>

	<div
		id="test">
		
	</div>
	
</body>
</html>
